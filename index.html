<!doctype html>
<html lang="id">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Website Pembelajaran PJOK Kelas 2</title>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="/_sdk/data_sdk.js"></script>
  <style>
        body {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ffeaa7 0%, #fab1a0 25%, #fd79a8 50%, #fdcb6e 75%, #6c5ce7 100%);
            min-height: 100%;
            overflow-x: hidden;
        }

        html {
            height: 100%;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            min-height: 100%;
        }

        /* Header */
        .header {
            background: linear-gradient(45deg, #74b9ff, #0984e3, #00cec9);
            border-radius: 25px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(116, 185, 255, 0.4);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: float 6s ease-in-out infinite;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 25px;
            position: relative;
            z-index: 2;
        }

        .nav-btn {
            background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
            border: none;
            padding: 14px 28px;
            border-radius: 30px;
            color: #2d3748;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(255, 234, 167, 0.4);
            font-size: 15px;
        }

        .nav-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(255, 234, 167, 0.6);
        }

        .title {
            text-align: center;
            color: white;
            font-size: 2.8rem;
            margin: 25px 0;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            position: relative;
            z-index: 2;
        }

        .welcome-text {
            text-align: center;
            color: #f8f9fa;
            font-size: 1.3rem;
            margin-bottom: 12px;
            position: relative;
            z-index: 2;
        }

        /* Chapter Grid */
        .chapters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .chapter-card {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            border-radius: 25px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 35px rgba(162, 155, 254, 0.3);
            position: relative;
            overflow: hidden;
            border: 3px solid rgba(255,255,255,0.3);
        }

        .chapter-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 20px 50px rgba(162, 155, 254, 0.5);
        }

        .chapter-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            transition: transform 0.8s;
        }

        .chapter-card:hover::before {
            transform: translateX(100%);
        }

        .chapter-number {
            font-size: 3.5rem;
            font-weight: bold;
            color: #ffeaa7;
            text-align: center;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .chapter-title {
            font-size: 1.3rem;
            font-weight: bold;
            color: white;
            text-align: center;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .chapter-icon {
            font-size: 4rem;
            text-align: center;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            backdrop-filter: blur(8px);
        }

        .modal-content {
            background: linear-gradient(135deg, #ddd6fe, #e0e7ff);
            margin: 3% auto;
            padding: 35px;
            border-radius: 30px;
            width: 92%;
            max-width: 900px;
            max-height: 85%;
            overflow-y: auto;
            box-shadow: 0 25px 80px rgba(0,0,0,0.4);
            position: relative;
        }

        .close {
            color: #e53e3e;
            float: right;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
            transition: all 0.3s ease;
        }

        .close:hover {
            color: #c53030;
            transform: scale(1.2);
        }

        /* Learning Styles */
        .learning-styles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .style-card {
            background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
            padding: 25px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 234, 167, 0.3);
            border: 2px solid rgba(255,255,255,0.4);
        }

        .style-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 35px rgba(255, 234, 167, 0.5);
        }

        .style-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .style-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: #2d3748;
        }

        /* Quiz */
        .quiz-container {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 30px;
            border-radius: 25px;
            margin-top: 30px;
            box-shadow: 0 10px 40px rgba(116, 185, 255, 0.3);
        }

        .quiz-question {
            font-size: 1.3rem;
            margin-bottom: 25px;
            text-align: center;
            line-height: 1.5;
        }

        .quiz-options {
            display: grid;
            gap: 15px;
            margin-bottom: 25px;
        }

        .quiz-option {
            background: rgba(255,255,255,0.15);
            border: 3px solid transparent;
            padding: 16px;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-size: 1rem;
        }

        .quiz-option:hover {
            background: rgba(255,255,255,0.25);
            border-color: rgba(255,255,255,0.5);
            transform: translateY(-2px);
        }

        .quiz-option.selected {
            background: rgba(255,255,255,0.3);
            border-color: white;
        }

        .quiz-option.correct {
            background: #00b894;
            border-color: #00a085;
        }

        .quiz-option.incorrect {
            background: #e17055;
            border-color: #d63031;
        }

        /* Admin Panel */
        .admin-panel {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 35px;
            border-radius: 25px;
            margin-top: 30px;
        }

        .admin-form {
            display: grid;
            gap: 25px;
            margin-top: 25px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .form-input, .form-textarea, .form-select {
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            background: rgba(255,255,255,0.95);
            color: #2d3748;
            font-weight: 500;
        }

        .form-input::placeholder, .form-textarea::placeholder {
            color: #718096;
        }

        .form-label {
            color: #fff;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 17px;
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .btn {
            background: linear-gradient(45deg, #fd79a8, #fdcb6e);
            border: none;
            padding: 18px 35px;
            border-radius: 30px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 17px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(253, 121, 168, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #a29bfe, #6c5ce7);
        }

        .btn-danger {
            background: linear-gradient(45deg, #e17055, #d63031);
        }

        /* Content Display */
        .content-display {
            background: rgba(255,255,255,0.9);
            padding: 30px;
            border-radius: 20px;
            margin: 25px 0;
            line-height: 1.7;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .material-item {
            background: rgba(255,255,255,0.8);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            border-left: 5px solid #fd79a8;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* Animations */
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(0deg);
            }
            50% {
                transform: translateY(-20px) rotate(180deg);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .title {
                font-size: 2.2rem;
            }
            
            .nav-buttons {
                justify-content: center;
            }
            
            .chapters-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                margin: 8% auto;
                width: 96%;
                padding: 25px;
            }
            
            .learning-styles {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 12px;
            }
            
            .header {
                padding: 18px;
            }
            
            .title {
                font-size: 2rem;
            }
            
            .chapter-number {
                font-size: 3rem;
            }
            
            .chapter-title {
                font-size: 1.2rem;
            }
        }

        /* Loading States */
        .loading {
            display: inline-block;
            width: 22px;
            height: 22px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .hidden {
            display: none;
        }

        .success-message {
            background: #00b894;
            color: white;
            padding: 18px;
            border-radius: 12px;
            margin: 12px 0;
            text-align: center;
        }

        .error-message {
            background: #e17055;
            color: white;
            padding: 18px;
            border-radius: 12px;
            margin: 12px 0;
            text-align: center;
        }

        /* Special styling for grade 2 */
        .grade-indicator {
            background: linear-gradient(45deg, #ffeaa7, #fdcb6e);
            color: #2d3748;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            display: inline-block;
            margin-bottom: 15px;
        }

        .difficulty-badge {
            background: linear-gradient(45deg, #74b9ff, #0984e3);
            color: white;
            padding: 6px 15px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            margin: 5px 0;
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container"><!-- Header -->
   <div class="header">
    <div class="nav-buttons"><button class="nav-btn" onclick="showHome()">🏠 Beranda</button> <button class="nav-btn" onclick="showHelp()">❓ Bantuan</button> <button class="nav-btn" onclick="showAdminLogin()">👨‍💼 Admin</button>
    </div>
    <div class="grade-indicator">
     📚 Kelas 2 SD
    </div>
    <h1 class="title" id="site-title">Ayo Belajar PJOK Kelas 2! 🏃‍♂️⚽🤸‍♀️</h1>
    <p class="welcome-text" id="welcome-message">Selamat datang siswa kelas 2! Mari belajar olahraga dengan cara yang menyenangkan dan mudah!</p>
    <p class="welcome-text" id="teacher-name">Guru PJOK: Siti Nur Aisyah, S. Pd</p>
   </div><!-- Main Content -->
   <div id="main-content">
    <div class="chapters-grid">
     <div class="chapter-card" onclick="openChapter(1)">
      <div class="chapter-icon">
       🏃‍♂️
      </div>
      <div class="chapter-number">
       1
      </div>
      <div class="chapter-title">
       Gerak Dasar Lokomotor
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
     <div class="chapter-card" onclick="openChapter(2)">
      <div class="chapter-icon">
       🤸‍♀️
      </div>
      <div class="chapter-number">
       2
      </div>
      <div class="chapter-title">
       Gerak Dasar Non Lokomotor
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
     <div class="chapter-card" onclick="openChapter(3)">
      <div class="chapter-icon">
       ⚽
      </div>
      <div class="chapter-number">
       3
      </div>
      <div class="chapter-title">
       Gerak Dasar Manipulatif
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
     <div class="chapter-card" onclick="openChapter(4)">
      <div class="chapter-icon">
       🤸
      </div>
      <div class="chapter-number">
       4
      </div>
      <div class="chapter-title">
       Aktivitas Senam
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
     <div class="chapter-card" onclick="openChapter(5)">
      <div class="chapter-icon">
       💃
      </div>
      <div class="chapter-number">
       5
      </div>
      <div class="chapter-title">
       Aktivitas Gerak Berirama
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
     <div class="chapter-card" onclick="openChapter(6)">
      <div class="chapter-icon">
       💪
      </div>
      <div class="chapter-number">
       6
      </div>
      <div class="chapter-title">
       Aktivitas Kebugaran Jasmani
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
     <div class="chapter-card" onclick="openChapter(7)">
      <div class="chapter-icon">
       🏊‍♀️
      </div>
      <div class="chapter-number">
       7
      </div>
      <div class="chapter-title">
       Aktivitas Permainan dan Olahraga Air
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
     <div class="chapter-card" onclick="openChapter(8)">
      <div class="chapter-icon">
       🍎
      </div>
      <div class="chapter-number">
       8
      </div>
      <div class="chapter-title">
       Perilaku Hidup Sehat
      </div>
      <div class="difficulty-badge">
       Tingkat Dasar
      </div>
     </div>
    </div>
   </div><!-- Chapter Modal -->
   <div id="chapterModal" class="modal">
    <div class="modal-content"><span class="close" onclick="closeModal()">×</span>
     <h2 id="modal-title">Bab 1: Gerak Dasar Lokomotor</h2><!-- Learning Styles -->
     <div class="learning-styles">
      <div class="style-card" onclick="showContent('visual')">
       <div class="style-icon">
        👀
       </div>
       <div class="style-title">
        Visual
       </div>
       <p>Lihat gambar dan contoh</p>
      </div>
      <div class="style-card" onclick="showContent('auditory')">
       <div class="style-icon">
        👂
       </div>
       <div class="style-title">
        Auditori
       </div>
       <p>Dengar penjelasan</p>
      </div>
      <div class="style-card" onclick="showContent('kinesthetic')">
       <div class="style-icon">
        🤸‍♀️
       </div>
       <div class="style-title">
        Kinestetik
       </div>
       <p>Praktik langsung</p>
      </div>
     </div><!-- Content Display -->
     <div id="content-display" class="content-display hidden">
      <div id="content-text"></div>
      <div id="custom-materials"></div>
     </div><!-- Quiz Section -->
     <div id="quiz-section" class="quiz-container hidden">
      <h3>🧠 Kuis Kelas 2</h3>
      <div id="quiz-content"></div><button class="btn" onclick="nextQuestion()" id="next-btn" style="display: none;">Soal Berikutnya</button> <button class="btn" onclick="showQuizResults()" id="finish-btn" style="display: none;">Lihat Hasil</button>
     </div>
    </div>
   </div><!-- Admin Login Modal -->
   <div id="adminLoginModal" class="modal">
    <div class="modal-content"><span class="close" onclick="closeModal()">×</span>
     <h2>🔐 Login Admin</h2>
     <div class="admin-form">
      <div class="form-group"><label class="form-label" style="color: #2d3748;">Password:</label> <input type="password" id="admin-password" class="form-input" placeholder="Masukkan password admin">
      </div><button class="btn" onclick="adminLogin()">Login</button>
      <div id="login-message"></div>
     </div>
    </div>
   </div><!-- Admin Panel Modal -->
   <div id="adminPanel" class="modal">
    <div class="modal-content"><span class="close" onclick="closeModal()">×</span>
     <h2>👨‍💼 Panel Admin - PJOK Kelas 2</h2><!-- Tab Navigation -->
     <div style="display: flex; gap: 12px; margin-bottom: 25px; flex-wrap: wrap;"><button class="btn btn-secondary" onclick="showAdminTab('materials')" id="materials-tab">📚 Kelola Materi</button> <button class="btn btn-secondary" onclick="showAdminTab('quiz')" id="quiz-tab">❓ Kelola Soal Kuis</button>
     </div><!-- Materials Panel -->
     <div class="admin-panel" id="materials-panel">
      <h3>Kelola Materi Pembelajaran PJOK Kelas 2</h3>
      <div class="admin-form">
       <div class="form-group"><label class="form-label">Bab:</label> <select id="admin-chapter" class="form-select"> <option value="1">Bab 1: Gerak Dasar Lokomotor</option> <option value="2">Bab 2: Gerak Dasar Non Lokomotor</option> <option value="3">Bab 3: Gerak Dasar Manipulatif</option> <option value="4">Bab 4: Aktivitas Senam</option> <option value="5">Bab 5: Aktivitas Gerak Berirama</option> <option value="6">Bab 6: Aktivitas Kebugaran Jasmani</option> <option value="7">Bab 7: Aktivitas Permainan dan Olahraga Air</option> <option value="8">Bab 8: Perilaku Hidup Sehat</option> </select>
       </div>
       <div class="form-group"><label class="form-label">Jenis Materi:</label> <select id="admin-type" class="form-select" onchange="toggleMediaFields()"> <option value="visual">Visual</option> <option value="auditory">Auditori</option> <option value="kinesthetic">Kinestetik</option> </select>
       </div>
       <div class="form-group"><label class="form-label">Judul Materi:</label> <input type="text" id="admin-title" class="form-input" placeholder="Masukkan judul materi">
       </div>
       <div class="form-group"><label class="form-label">Konten Materi:</label> <textarea id="admin-content" class="form-textarea" placeholder="Masukkan konten materi pembelajaran untuk kelas 2"></textarea>
       </div>
       <div class="form-group" id="image-group" style="display: none;"><label class="form-label">URL Gambar (Opsional):</label> <input type="url" id="admin-image" class="form-input" placeholder="https://contoh.com/gambar.jpg"> <small style="color: #e2e8f0; font-size: 12px; margin-top: 5px; display: block;"> Masukkan URL gambar yang valid untuk materi visual </small>
       </div>
       <div class="form-group" id="audio-group" style="display: none;"><label class="form-label">URL Audio (Opsional):</label> <input type="url" id="admin-audio" class="form-input" placeholder="https://contoh.com/audio.mp3"> <small style="color: #e2e8f0; font-size: 12px; margin-top: 5px; display: block;"> Masukkan URL audio yang valid untuk materi auditori </small>
       </div>
       <div style="display: flex; gap: 15px; flex-wrap: wrap;"><button class="btn" onclick="addMaterial()" id="add-btn"> <span class="loading hidden"></span> Tambah Materi </button> <button class="btn btn-secondary" onclick="loadMaterials()">Lihat Semua Materi</button>
       </div>
      </div>
      <div id="admin-message"></div>
      <div id="materials-list"></div>
     </div><!-- Quiz Panel -->
     <div class="admin-panel hidden" id="quiz-panel">
      <h3>Kelola Soal Kuis PJOK Kelas 2</h3>
      <div class="admin-form">
       <div class="form-group"><label class="form-label">Bab:</label> <select id="quiz-chapter" class="form-select"> <option value="1">Bab 1: Gerak Dasar Lokomotor</option> <option value="2">Bab 2: Gerak Dasar Non Lokomotor</option> <option value="3">Bab 3: Gerak Dasar Manipulatif</option> <option value="4">Bab 4: Aktivitas Senam</option> <option value="5">Bab 5: Aktivitas Gerak Berirama</option> <option value="6">Bab 6: Aktivitas Kebugaran Jasmani</option> <option value="7">Bab 7: Aktivitas Permainan dan Olahraga Air</option> <option value="8">Bab 8: Perilaku Hidup Sehat</option> </select>
       </div>
       <div class="form-group"><label class="form-label">Pertanyaan:</label> <textarea id="quiz-question" class="form-textarea" placeholder="Masukkan pertanyaan kuis untuk siswa kelas 2"></textarea>
       </div>
       <div class="form-group"><label class="form-label">Pilihan A:</label> <input type="text" id="quiz-option-a" class="form-input" placeholder="Pilihan jawaban A">
       </div>
       <div class="form-group"><label class="form-label">Pilihan B:</label> <input type="text" id="quiz-option-b" class="form-input" placeholder="Pilihan jawaban B">
       </div>
       <div class="form-group"><label class="form-label">Pilihan C:</label> <input type="text" id="quiz-option-c" class="form-input" placeholder="Pilihan jawaban C">
       </div>
       <div class="form-group"><label class="form-label">Pilihan D:</label> <input type="text" id="quiz-option-d" class="form-input" placeholder="Pilihan jawaban D">
       </div>
       <div class="form-group"><label class="form-label">Jawaban Benar:</label> <select id="quiz-correct" class="form-select"> <option value="0">A</option> <option value="1">B</option> <option value="2">C</option> <option value="3">D</option> </select>
       </div>
       <div class="form-group"><label class="form-label">URL Gambar (Opsional):</label> <input type="url" id="quiz-image" class="form-input" placeholder="https://contoh.com/gambar.jpg"> <small style="color: #e2e8f0; font-size: 12px; margin-top: 5px; display: block;"> Masukkan URL gambar untuk soal (opsional) </small>
       </div>
       <div style="display: flex; gap: 15px; flex-wrap: wrap;"><button class="btn" onclick="addQuizQuestion()" id="add-quiz-btn"> <span class="loading hidden"></span> Tambah Soal </button> <button class="btn btn-secondary" onclick="loadQuizQuestions()">Lihat Semua Soal</button>
       </div>
      </div>
      <div id="quiz-message"></div>
      <div id="quiz-list"></div>
     </div>
    </div>
   </div><!-- Help Modal -->
   <div id="helpModal" class="modal">
    <div class="modal-content"><span class="close" onclick="closeModal()">×</span>
     <h2>❓ Bantuan - PJOK Kelas 2</h2>
     <div class="content-display">
      <h3>Cara Menggunakan Website PJOK Kelas 2:</h3>
      <ul>
       <li><strong>Pilih Bab:</strong> Klik pada kartu bab yang ingin dipelajari (ada 8 bab untuk kelas 2)</li>
       <li><strong>Pilih Gaya Belajar:</strong> Pilih cara belajar yang paling cocok: 
        <ul>
         <li>👀 <strong>Visual:</strong> Belajar dengan melihat gambar dan contoh</li>
         <li>👂 <strong>Auditori:</strong> Belajar dengan mendengar penjelasan</li>
         <li>🤸‍♀️ <strong>Kinestetik:</strong> Belajar dengan praktik langsung</li>
        </ul></li>
       <li><strong>Kuis:</strong> Setelah belajar, kerjakan kuis untuk menguji pemahaman</li>
       <li><strong>Admin:</strong> Guru dapat menambah, mengedit, atau menghapus materi</li>
      </ul>
      <h3>Materi PJOK Kelas 2:</h3>
      <ol>
       <li><strong>Gerak Dasar Lokomotor:</strong> Berjalan, berlari, melompat, meloncat</li>
       <li><strong>Gerak Dasar Non Lokomotor:</strong> Menekuk, meluruskan, memutar, mengayun</li>
       <li><strong>Gerak Dasar Manipulatif:</strong> Melempar, menangkap, menendang, memantulkan</li>
       <li><strong>Aktivitas Senam:</strong> Gerakan senam sederhana dan aman</li>
       <li><strong>Aktivitas Gerak Berirama:</strong> Gerak mengikuti irama musik</li>
       <li><strong>Aktivitas Kebugaran Jasmani:</strong> Latihan untuk menjaga kesehatan tubuh</li>
       <li><strong>Aktivitas Permainan dan Olahraga Air:</strong> Permainan air yang aman</li>
       <li><strong>Perilaku Hidup Sehat:</strong> Kebiasaan baik untuk kesehatan</li>
      </ol>
      <h3>Tips Belajar untuk Kelas 2:</h3>
      <ul>
       <li>Ikuti instruksi guru dengan baik</li>
       <li>Berlatih dengan gembira dan semangat</li>
       <li>Jangan takut untuk bertanya jika tidak mengerti</li>
       <li>Selalu utamakan keselamatan</li>
       <li>Kerjakan kuis dengan tenang</li>
       <li>Rajin berolahraga untuk tubuh yang sehat</li>
      </ul>
     </div>
    </div>
   </div>
  </div>
  <script>
        // Configuration object
        const defaultConfig = {
            site_title: "Ayo Belajar PJOK Kelas 2! 🏃‍♂️⚽🤸‍♀️",
            welcome_message: "Selamat datang siswa kelas 2! Mari belajar olahraga dengan cara yang menyenangkan dan mudah!",
            teacher_name: "Guru PJOK: Siti Nur Aisyah, S. Pd"
        };

        // Global variables
        let currentChapter = 1;
        let currentQuizQuestion = 0;
        let quizAnswers = [];
        let isAdminLoggedIn = false;
        let materials = [];
        let quizQuestions = [];

        // Chapter data for Grade 2 (simpler content)
        const chapters = {
            1: {
                title: "Gerak Dasar Lokomotor",
                icon: "🏃‍♂️",
                content: {
                    visual: "Lihat gerak lokomotor yang mudah! Gerak lokomotor adalah gerakan berpindah tempat. Ada 4 gerakan dasar: 1) Berjalan - langkah kaki bergantian dengan tenang, 2) Berlari - langkah cepat dengan kedua kaki bergantian, 3) Melompat - tolakan dua kaki dan mendarat dengan dua kaki, 4) Meloncat - tolakan satu kaki dan mendarat dengan satu atau dua kaki. Semua gerakan harus dilakukan dengan hati-hati dan gembira!",
                    auditory: "Dengarkan cara melakukan gerak lokomotor: Pertama, berjalan dengan langkah pelan dan teratur, angkat kaki bergantian kanan-kiri. Kedua, berlari dengan langkah lebih cepat, ayunkan tangan untuk keseimbangan. Ketiga, melompat dengan menekuk lutut, tolak dengan dua kaki, dan mendarat dengan lembut. Keempat, meloncat dengan satu kaki, tolak kuat-kuat, dan mendarat dengan aman. Ingat, selalu lakukan pemanasan dulu!",
                    kinesthetic: "Ayo praktik gerak lokomotor! 1) Berjalan di tempat 20 kali, lalu berjalan maju 10 langkah, 2) Berlari pelan di tempat 15 detik, lalu berlari maju 5 meter, 3) Melompat di tempat 10 kali, pastikan mendarat dengan lembut, 4) Meloncat dengan kaki kanan 5 kali, lalu kaki kiri 5 kali, 5) Kombinasi: berjalan 5 langkah + berlari 3 meter + melompat 3 kali + meloncat 4 kali. Lakukan dengan gembira dan hati-hati!"
                },
                quiz: [
                    {
                        question: "Apa itu gerak lokomotor?",
                        options: ["Gerakan di tempat", "Gerakan berpindah tempat", "Gerakan dengan bola", "Gerakan tidur"],
                        correct: 1
                    },
                    {
                        question: "Contoh gerak lokomotor adalah?",
                        options: ["Menekuk tangan", "Berjalan dan berlari", "Duduk diam", "Memutar kepala"],
                        correct: 1
                    },
                    {
                        question: "Saat melompat, kita menggunakan?",
                        options: ["Satu kaki", "Dua kaki untuk tolakan", "Tangan saja", "Kepala"],
                        correct: 1
                    },
                    {
                        question: "Perbedaan melompat dan meloncat adalah?",
                        options: ["Tidak ada bedanya", "Melompat pakai dua kaki, meloncat pakai satu kaki", "Melompat lebih tinggi", "Meloncat lebih cepat"],
                        correct: 1
                    }
                ]
            },
            2: {
                title: "Gerak Dasar Non Lokomotor",
                icon: "🤸‍♀️",
                content: {
                    visual: "Lihat gerak non lokomotor yang mudah! Gerak non lokomotor adalah gerakan di tempat tanpa berpindah. Ada 4 gerakan dasar: 1) Menekuk - membengkokkan bagian tubuh seperti siku atau lutut, 2) Meluruskan - membuat bagian tubuh menjadi lurus, 3) Memutar - menggerakkan bagian tubuh berputar, 4) Mengayun - menggerakkan bagian tubuh maju-mundur atau kanan-kiri. Semua gerakan dilakukan dengan perlahan dan aman!",
                    auditory: "Cara melakukan gerak non lokomotor: Pertama, menekuk siku dengan perlahan, tahan 3 detik, lalu luruskan. Kedua, memutar kepala ke kanan perlahan, lalu ke kiri. Ketiga, mengayun lengan ke depan dan ke belakang dengan lembut. Keempat, menekuk lutut naik-turun seperti jongkok. Ingat, jangan terburu-buru dan rasakan setiap gerakan!",
                    kinesthetic: "Mari praktik gerak non lokomotor! 1) Menekuk dan meluruskan siku 8 kali, 2) Memutar kepala kanan-kiri masing-masing 5 kali, 3) Mengayun lengan depan-belakang 10 kali, 4) Menekuk lutut naik-turun 8 kali, 5) Memutar pinggang kanan-kiri masing-masing 6 kali, 6) Mengayun kaki kanan-kiri bergantian 8 kali. Lakukan dengan pelan dan hati-hati!"
                },
                quiz: [
                    {
                        question: "Gerak non lokomotor adalah?",
                        options: ["Gerakan berpindah tempat", "Gerakan di tempat", "Gerakan dengan bola", "Gerakan cepat"],
                        correct: 1
                    },
                    {
                        question: "Contoh gerak non lokomotor adalah?",
                        options: ["Berlari", "Menekuk dan memutar", "Melompat jauh", "Berjalan cepat"],
                        correct: 1
                    },
                    {
                        question: "Saat memutar kepala, kita harus?",
                        options: ["Cepat-cepat", "Perlahan dan hati-hati", "Sambil berlari", "Dengan mata tertutup"],
                        correct: 1
                    },
                    {
                        question: "Mengayun lengan sebaiknya dilakukan?",
                        options: ["Sekuat tenaga", "Dengan lembut dan terkontrol", "Sambil melompat", "Dengan cepat"],
                        correct: 1
                    }
                ]
            },
            3: {
                title: "Gerak Dasar Manipulatif",
                icon: "⚽",
                content: {
                    visual: "Lihat gerak manipulatif yang mudah! Gerak manipulatif adalah gerakan menggunakan benda. Ada 4 gerakan dasar: 1) Melempar - melepaskan benda dari tangan ke arah tertentu, 2) Menangkap - menerima benda yang datang dengan tangan, 3) Menendang - mendorong benda dengan kaki, 4) Memantulkan - menjatuhkan benda lalu menangkap kembali. Gunakan bola yang lembut dan aman untuk berlatih!",
                    auditory: "Cara melakukan gerak manipulatif: Pertama, melempar bola dengan tangan kanan ke atas, lalu tangkap dengan kedua tangan. Kedua, lempar bola ke teman, pastikan tidak terlalu keras. Ketiga, tendang bola pelan-pelan dengan kaki bagian dalam. Keempat, pantulkan bola ke lantai, lalu tangkap saat naik. Selalu fokus pada bola dan bersiap menangkap!",
                    kinesthetic: "Ayo praktik gerak manipulatif! 1) Lempar bola ke atas dan tangkap 8 kali, 2) Lempar bola ke dinding dan tangkap pantulannya 6 kali, 3) Tendang bola pelan ke depan 5 kali, 4) Pantulkan bola ke lantai dan tangkap 10 kali, 5) Lempar tangkap dengan teman jarak 2 meter sebanyak 8 kali, 6) Tendang bola ke target (kotak atau lingkaran) 5 kali. Gunakan bola yang lembut!"
                },
                quiz: [
                    {
                        question: "Gerak manipulatif adalah?",
                        options: ["Gerakan tanpa alat", "Gerakan menggunakan benda", "Gerakan di tempat", "Gerakan tidur"],
                        correct: 1
                    },
                    {
                        question: "Contoh gerak manipulatif adalah?",
                        options: ["Berjalan", "Melempar dan menangkap", "Menekuk siku", "Memutar kepala"],
                        correct: 1
                    },
                    {
                        question: "Saat menangkap bola, kita harus?",
                        options: ["Menutup mata", "Fokus pada bola dan siap", "Berlari menjauh", "Berdiri diam saja"],
                        correct: 1
                    },
                    {
                        question: "Menendang bola sebaiknya menggunakan?",
                        options: ["Ujung kaki", "Kaki bagian dalam", "Tumit", "Lutut"],
                        correct: 1
                    }
                ]
            },
            4: {
                title: "Aktivitas Senam",
                icon: "🤸",
                content: {
                    visual: "Lihat gerakan senam yang aman untuk kelas 2! Senam untuk kelas 2 meliputi: 1) Peregangan sederhana - merentangkan tangan dan kaki, 2) Keseimbangan - berdiri dengan satu kaki, 3) Gerakan koordinasi - menggerakkan tangan dan kaki bersamaan, 4) Sikap tubuh yang baik - berdiri tegak dan duduk yang benar. Semua gerakan dilakukan dengan perlahan dan aman!",
                    auditory: "Cara melakukan senam sederhana: Pertama, berdiri tegak, rentangkan tangan ke samping, tahan 5 detik. Kedua, angkat satu kaki, tahan keseimbangan 5 detik, ganti kaki. Ketiga, jalan di garis lurus dengan tangan terentang. Keempat, duduk tegak dengan punggung lurus. Ingat, jangan memaksakan diri dan minta bantuan guru jika perlu!",
                    kinesthetic: "Mari bersenam dengan aman! 1) Peregangan: rentangkan tangan ke atas 10 detik, ke samping 10 detik, 2) Keseimbangan: berdiri satu kaki kanan 8 detik, kiri 8 detik, 3) Koordinasi: jalan sambil ayun tangan 10 langkah, 4) Sikap tubuh: berdiri tegak 15 detik, duduk tegak 15 detik, 5) Gerakan sederhana: jongkok-berdiri 6 kali, 6) Relaksasi: tarik napas dalam 5 kali. Selalu dengan pengawasan guru!"
                },
                quiz: [
                    {
                        question: "Senam untuk kelas 2 sebaiknya?",
                        options: ["Sulit dan berbahaya", "Sederhana dan aman", "Cepat dan keras", "Tanpa aturan"],
                        correct: 1
                    },
                    {
                        question: "Saat berlatih keseimbangan, kita harus?",
                        options: ["Bergerak cepat", "Tenang dan fokus", "Menutup mata", "Berlari"],
                        correct: 1
                    },
                    {
                        question: "Peregangan bermanfaat untuk?",
                        options: ["Membuat lelah", "Melenturkan otot", "Membuat pusing", "Tidak ada manfaat"],
                        correct: 1
                    },
                    {
                        question: "Sikap tubuh yang baik saat berdiri adalah?",
                        options: ["Membungkuk", "Tegak dan lurus", "Miring ke samping", "Jongkok"],
                        correct: 1
                    }
                ]
            },
            5: {
                title: "Aktivitas Gerak Berirama",
                icon: "💃",
                content: {
                    visual: "Lihat gerak berirama yang menyenangkan! Gerak berirama adalah gerakan mengikuti musik. Untuk kelas 2: 1) Tepuk tangan mengikuti irama, 2) Langkah kaki kanan-kiri sesuai musik, 3) Ayunan tangan sederhana, 4) Gerakan kepala mengikuti irama. Pilih musik yang ceria dan tidak terlalu cepat untuk berlatih!",
                    auditory: "Cara bergerak mengikuti irama: Pertama, dengarkan musik dengan baik, rasakan ketukannya. Kedua, mulai dengan tepuk tangan mengikuti irama. Ketiga, tambahkan langkah kaki kanan-kiri. Keempat, ayunkan tangan ke atas-bawah mengikuti musik. Kelima, gerakkan kepala pelan-pelan. Ingat, yang penting adalah mengikuti irama, bukan gerakan yang sulit!",
                    kinesthetic: "Ayo bergerak berirama! 1) Dengarkan musik dan tepuk tangan 1 menit, 2) Langkah kaki kanan-kiri di tempat 1 menit, 3) Ayun tangan ke atas-bawah 1 menit, 4) Kombinasi tepuk + langkah 2 menit, 5) Tambah gerakan kepala kanan-kiri 1 menit, 6) Gerak bebas mengikuti musik 2 menit, 7) Bergerak bersama teman dalam lingkaran 3 menit. Pilih musik yang ceria!"
                },
                quiz: [
                    {
                        question: "Gerak berirama adalah?",
                        options: ["Gerakan tanpa musik", "Gerakan mengikuti irama musik", "Gerakan cepat", "Gerakan diam"],
                        correct: 1
                    },
                    {
                        question: "Hal pertama yang harus dilakukan dalam gerak berirama?",
                        options: ["Langsung menari", "Mendengarkan musik dengan baik", "Berlari cepat", "Menutup mata"],
                        correct: 1
                    },
                    {
                        question: "Musik untuk gerak berirama kelas 2 sebaiknya?",
                        options: ["Sangat cepat", "Ceria dan tidak terlalu cepat", "Tanpa irama", "Sangat keras"],
                        correct: 1
                    },
                    {
                        question: "Yang paling penting dalam gerak berirama adalah?",
                        options: ["Gerakan yang sulit", "Mengikuti irama musik", "Bergerak cepat", "Diam saja"],
                        correct: 1
                    }
                ]
            },
            6: {
                title: "Aktivitas Kebugaran Jasmani",
                icon: "💪",
                content: {
                    visual: "Lihat aktivitas kebugaran untuk kelas 2! Kebugaran jasmani sederhana meliputi: 1) Jalan cepat - berjalan dengan langkah lebih cepat, 2) Peregangan ringan - merentangkan tubuh, 3) Gerakan sederhana - naik turun tangga, 4) Bermain aktif - permainan yang membuat tubuh bergerak. Semua aktivitas dilakukan dengan gembira dan tidak berlebihan!",
                    auditory: "Cara menjaga kebugaran untuk kelas 2: Pertama, jalan cepat di halaman selama 5 menit. Kedua, lakukan peregangan tangan dan kaki masing-masing 30 detik. Ketiga, naik turun tangga 5 kali dengan hati-hati. Keempat, bermain permainan aktif seperti petak umpet atau kucing-kucingan. Ingat, istirahat jika merasa lelah!",
                    kinesthetic: "Mari berlatih kebugaran! 1) Jalan cepat mengelilingi lapangan 3 menit, 2) Peregangan: tangan ke atas 20 detik, ke samping 20 detik, 3) Naik turun bangku kecil 8 kali (hati-hati), 4) Bermain 'Patung' - bergerak lalu diam 5 menit, 5) Permainan 'Simon Says' dengan gerakan 5 menit, 6) Jalan santai untuk pendinginan 2 menit, 7) Duduk dan tarik napas dalam 1 menit."
                },
                quiz: [
                    {
                        question: "Kebugaran jasmani untuk kelas 2 sebaiknya?",
                        options: ["Sangat berat", "Sederhana dan menyenangkan", "Membuat sakit", "Tidak perlu"],
                        correct: 1
                    },
                    {
                        question: "Jika merasa lelah saat berolahraga, kita harus?",
                        options: ["Terus memaksa", "Istirahat sebentar", "Berlari lebih cepat", "Berhenti total"],
                        correct: 1
                    },
                    {
                        question: "Manfaat kebugaran jasmani adalah?",
                        options: ["Membuat lelah", "Menjaga kesehatan tubuh", "Membuat sakit", "Tidak ada manfaat"],
                        correct: 1
                    },
                    {
                        question: "Aktivitas kebugaran yang cocok untuk kelas 2 adalah?",
                        options: ["Angkat beban berat", "Jalan cepat dan bermain aktif", "Lari marathon", "Tidak bergerak"],
                        correct: 1
                    }
                ]
            },
            7: {
                title: "Aktivitas Permainan dan Olahraga Air",
                icon: "🏊‍♀️",
                content: {
                    visual: "Lihat aktivitas air yang aman untuk kelas 2! Permainan air sederhana meliputi: 1) Berjalan di air dangkal, 2) Bermain percikan air, 3) Mengapung dengan bantuan pelampung, 4) Permainan sederhana di air dangkal. SELALU dengan pengawasan orang dewasa dan di tempat yang aman!",
                    auditory: "Aturan keselamatan air untuk kelas 2: Pertama, SELALU ada orang dewasa yang mengawasi. Kedua, hanya bermain di air dangkal (setinggi lutut). Ketiga, gunakan pelampung jika perlu. Keempat, jangan berlari di pinggir kolam karena licin. Kelima, jika merasa takut, segera keluar dari air. Keselamatan adalah yang utama!",
                    kinesthetic: "Aktivitas air yang aman! (SELALU dengan pengawasan) 1) Berjalan pelan di air dangkal 3 menit, 2) Bermain percikan air dengan tangan 5 menit, 3) Duduk di air dangkal dan main air 5 menit, 4) Permainan 'Patung' di air dangkal 3 menit, 5) Lempar tangkap bola lembut di air 5 menit, 6) Berjalan mundur di air dangkal 2 menit. INGAT: Air hanya setinggi lutut dan selalu ada yang mengawasi!"
                },
                quiz: [
                    {
                        question: "Hal terpenting dalam aktivitas air adalah?",
                        options: ["Berenang cepat", "Keselamatan dan pengawasan", "Bermain bebas", "Tidak perlu aturan"],
                        correct: 1
                    },
                    {
                        question: "Kedalaman air yang aman untuk kelas 2 adalah?",
                        options: ["Setinggi kepala", "Setinggi lutut", "Sangat dalam", "Tidak ada batas"],
                        correct: 1
                    },
                    {
                        question: "Saat bermain air, kita harus?",
                        options: ["Sendirian", "Selalu ada yang mengawasi", "Berlari di pinggir kolam", "Tidak perlu hati-hati"],
                        correct: 1
                    },
                    {
                        question: "Jika merasa takut di air, kita harus?",
                        options: ["Memaksa diri", "Segera keluar dan minta bantuan", "Menangis", "Diam saja"],
                        correct: 1
                    }
                ]
            },
            8: {
                title: "Perilaku Hidup Sehat",
                icon: "🍎",
                content: {
                    visual: "Lihat kebiasaan hidup sehat untuk kelas 2! Hidup sehat meliputi: 1) Makan makanan bergizi - nasi, sayur, buah, 2) Minum air putih yang cukup, 3) Tidur cukup 10-11 jam setiap malam, 4) Mandi dan gosok gigi teratur, 5) Bermain dan berolahraga setiap hari. Kebiasaan baik dimulai dari sekarang!",
                    auditory: "Cara hidup sehat untuk kelas 2: Pertama, makan 3 kali sehari dengan menu sehat - nasi, lauk, sayur, buah. Kedua, minum air putih 6-8 gelas setiap hari. Ketiga, tidur malam jam 8 dan bangun jam 6 pagi. Keempat, mandi 2 kali sehari dan gosok gigi setelah makan. Kelima, bermain dan bergerak aktif minimal 1 jam setiap hari. Hidup sehat itu mudah dan menyenangkan!",
                    kinesthetic: "Mari praktik hidup sehat! 1) Buat jadwal makan 3 kali sehari, 2) Hitung minum air putih dengan gelas kecil 8 kali, 3) Praktik gosok gigi yang benar selama 2 menit, 4) Cuci tangan dengan sabun 6 langkah, 5) Atur waktu tidur jam 8 malam, 6) Bermain aktif di luar rumah 30 menit, 7) Makan buah dan sayur setiap hari, 8) Buat catatan kegiatan sehat selama seminggu."
                },
                quiz: [
                    {
                        question: "Berapa kali kita harus makan dalam sehari?",
                        options: ["1 kali", "2 kali", "3 kali", "5 kali"],
                        correct: 2
                    },
                    {
                        question: "Jam tidur yang baik untuk kelas 2 adalah?",
                        options: ["Jam 10 malam", "Jam 8 malam", "Jam 12 malam", "Tidak ada aturan"],
                        correct: 1
                    },
                    {
                        question: "Berapa kali kita harus gosok gigi setiap hari?",
                        options: ["1 kali", "2 kali", "3 kali", "Tidak perlu"],
                        correct: 2
                    },
                    {
                        question: "Makanan sehat untuk kelas 2 adalah?",
                        options: ["Permen saja", "Nasi, sayur, buah, lauk", "Coklat saja", "Tidak perlu makan"],
                        correct: 1
                    }
                ]
            }
        };

        // Data SDK Handler
        const dataHandler = {
            onDataChanged(data) {
                // Separate materials and quiz questions
                materials = data.filter(item => item.type === 'visual' || item.type === 'auditory' || item.type === 'kinesthetic');
                quizQuestions = data.filter(item => item.type === 'quiz');
                
                if (document.getElementById('materials-list')) {
                    displayMaterials();
                }
                if (document.getElementById('quiz-list')) {
                    displayQuizQuestions();
                }
            }
        };

        // Initialize application
        async function initApp() {
            // Initialize Data SDK
            const initResult = await window.dataSdk.init(dataHandler);
            if (!initResult.isOk) {
                console.error("Failed to initialize data SDK");
            }

            // Initialize Element SDK
            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange: async (config) => {
                        const titleElement = document.getElementById('site-title');
                        const welcomeElement = document.getElementById('welcome-message');
                        const teacherElement = document.getElementById('teacher-name');
                        
                        if (titleElement) {
                            titleElement.textContent = config.site_title || defaultConfig.site_title;
                        }
                        if (welcomeElement) {
                            welcomeElement.textContent = config.welcome_message || defaultConfig.welcome_message;
                        }
                        if (teacherElement) {
                            teacherElement.textContent = config.teacher_name || defaultConfig.teacher_name;
                        }
                    },
                    mapToCapabilities: (config) => ({
                        recolorables: [],
                        borderables: [],
                        fontEditable: undefined,
                        fontSizeable: undefined
                    }),
                    mapToEditPanelValues: (config) => new Map([
                        ["site_title", config.site_title || defaultConfig.site_title],
                        ["welcome_message", config.welcome_message || defaultConfig.welcome_message],
                        ["teacher_name", config.teacher_name || defaultConfig.teacher_name]
                    ])
                });
            }
        }

        // Navigation functions
        function showHome() {
            closeModal();
            document.getElementById('main-content').style.display = 'block';
        }

        function showHelp() {
            closeModal();
            document.getElementById('helpModal').style.display = 'block';
        }

        function showAdminLogin() {
            closeModal();
            document.getElementById('adminLoginModal').style.display = 'block';
            document.getElementById('admin-password').value = '';
            document.getElementById('login-message').innerHTML = '';
        }

        function closeModal() {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => modal.style.display = 'none');
        }

        // Chapter functions
        function openChapter(chapterNum) {
            currentChapter = chapterNum;
            const chapter = chapters[chapterNum];
            
            document.getElementById('modal-title').textContent = `Bab ${chapterNum}: ${chapter.title}`;
            document.getElementById('content-display').classList.add('hidden');
            document.getElementById('quiz-section').classList.add('hidden');
            
            // Remove existing quiz button container if any
            const existingQuizButton = document.getElementById('quiz-button-container');
            if (existingQuizButton) {
                existingQuizButton.remove();
            }
            
            document.getElementById('chapterModal').style.display = 'block';
        }

        function showContent(type) {
            const chapter = chapters[currentChapter];
            const contentDisplay = document.getElementById('content-display');
            const contentText = document.getElementById('content-text');
            const customMaterials = document.getElementById('custom-materials');
            
            contentText.innerHTML = `
                <h3>${getTypeTitle(type)}</h3>
                <p>${chapter.content[type]}</p>
            `;
            
            // Show custom materials for this chapter and type
            const chapterMaterials = materials.filter(m => 
                m.chapter === currentChapter.toString() && m.type === type
            );
            
            if (chapterMaterials.length > 0) {
                customMaterials.innerHTML = '<h4>Materi Tambahan:</h4>' + 
                    chapterMaterials.map(material => `
                        <div class="material-item">
                            <h5>${material.title}</h5>
                            <p>${material.content}</p>
                            ${material.image_url ? `
                                <div style="margin: 15px 0;">
                                    <img src="${material.image_url}" alt="${material.title}" 
                                         style="max-width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);"
                                         onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                                    <div style="display: none; background: #e17055; color: white; padding: 10px; border-radius: 5px; text-align: center;">
                                        Gambar tidak dapat dimuat
                                    </div>
                                </div>
                            ` : ''}
                            ${material.audio_url ? `
                                <div style="margin: 15px 0;">
                                    <audio controls style="width: 100%; border-radius: 10px;">
                                        <source src="${material.audio_url}" type="audio/mpeg">
                                        <source src="${material.audio_url}" type="audio/wav">
                                        <source src="${material.audio_url}" type="audio/ogg">
                                        Browser Anda tidak mendukung audio.
                                    </audio>
                                </div>
                            ` : ''}
                        </div>
                    `).join('');
            } else {
                customMaterials.innerHTML = '';
            }
            
            contentDisplay.classList.remove('hidden');
            
            // Show quiz button only once - check if it doesn't exist already
            if (!document.getElementById('quiz-button-container')) {
                const quizButtonContainer = document.createElement('div');
                quizButtonContainer.id = 'quiz-button-container';
                quizButtonContainer.style.cssText = 'text-align: center; margin-top: 25px; padding: 25px;';
                quizButtonContainer.innerHTML = `
                    <button class="btn" onclick="startQuiz()" style="font-size: 18px; padding: 16px 32px;">
                        🧠 Mulai Kuis Kelas 2
                    </button>
                `;
                contentDisplay.appendChild(quizButtonContainer);
            }
        }

        function getTypeTitle(type) {
            const titles = {
                visual: '👀 Pembelajaran Visual',
                auditory: '👂 Pembelajaran Auditori', 
                kinesthetic: '🤸‍♀️ Pembelajaran Kinestetik'
            };
            return titles[type] || 'Pembelajaran';
        }

        // Quiz functions
        function startQuiz() {
            currentQuizQuestion = 0;
            quizAnswers = [];
            document.getElementById('quiz-section').classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            // Get questions from both default and custom sources
            const defaultQuestions = chapters[currentChapter].quiz;
            const customQuestions = quizQuestions.filter(q => q.chapter === currentChapter.toString());
            const allQuestions = [...defaultQuestions, ...customQuestions];
            
            if (currentQuizQuestion >= allQuestions.length) {
                showQuizResults();
                return;
            }
            
            const question = allQuestions[currentQuizQuestion];
            
            document.getElementById('quiz-content').innerHTML = `
                <div class="quiz-question">
                    Soal ${currentQuizQuestion + 1}: ${question.question}
                    ${question.image_url ? `
                        <div style="margin: 15px 0; text-align: center;">
                            <img src="${question.image_url}" alt="Gambar soal" 
                                 style="max-width: 100%; max-height: 300px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);"
                                 onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                            <div style="display: none; background: #e17055; color: white; padding: 10px; border-radius: 5px; text-align: center;">
                                Gambar tidak dapat dimuat
                            </div>
                        </div>
                    ` : ''}
                </div>
                <div class="quiz-options">
                    ${(question.options || []).map((option, index) => `
                        <div class="quiz-option" onclick="selectAnswer(${index})" data-index="${index}">
                            ${option}
                        </div>
                    `).join('')}
                </div>
            `;
            
            document.getElementById('next-btn').style.display = 'none';
            document.getElementById('finish-btn').style.display = 'none';
        }

        function selectAnswer(answerIndex) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => option.classList.remove('selected'));
            options[answerIndex].classList.add('selected');
            
            // Get questions from both default and custom sources
            const defaultQuestions = chapters[currentChapter].quiz;
            const customQuestions = quizQuestions.filter(q => q.chapter === currentChapter.toString());
            const allQuestions = [...defaultQuestions, ...customQuestions];
            const question = allQuestions[currentQuizQuestion];
            
            // Show correct/incorrect
            setTimeout(() => {
                options.forEach((option, index) => {
                    if (index === question.correct) {
                        option.classList.add('correct');
                    } else if (index === answerIndex && index !== question.correct) {
                        option.classList.add('incorrect');
                    }
                });
                
                quizAnswers[currentQuizQuestion] = answerIndex;
                
                if (currentQuizQuestion < allQuestions.length - 1) {
                    document.getElementById('next-btn').style.display = 'inline-block';
                } else {
                    document.getElementById('finish-btn').style.display = 'inline-block';
                }
            }, 500);
        }

        function nextQuestion() {
            currentQuizQuestion++;
            showQuestion();
        }

        function showQuizResults() {
            // Get questions from both default and custom sources
            const defaultQuestions = chapters[currentChapter].quiz;
            const customQuestions = quizQuestions.filter(q => q.chapter === currentChapter.toString());
            const allQuestions = [...defaultQuestions, ...customQuestions];
            
            let correct = 0;
            
            quizAnswers.forEach((answer, index) => {
                if (answer === allQuestions[index].correct) {
                    correct++;
                }
            });
            
            const percentage = Math.round((correct / allQuestions.length) * 100);
            let message = '';
            let emoji = '';
            
            if (percentage >= 80) {
                message = 'Hebat sekali! Kamu sangat pintar!';
                emoji = '🌟';
            } else if (percentage >= 60) {
                message = 'Bagus! Kamu sudah paham materinya!';
                emoji = '👍';
            } else if (percentage >= 40) {
                message = 'Lumayan! Ayo belajar lagi supaya lebih baik!';
                emoji = '📚';
            } else {
                message = 'Ayo semangat belajar lagi! Kamu pasti bisa!';
                emoji = '💪';
            }
            
            document.getElementById('quiz-content').innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 20px;">${emoji}</div>
                    <h3>Hasil Kuis Kelas 2</h3>
                    <p style="font-size: 2rem; margin: 20px 0;">
                        ${correct}/${allQuestions.length} (${percentage}%)
                    </p>
                    <p style="font-size: 1.2rem;">${message}</p>
                    <button class="btn" onclick="startQuiz()" style="margin: 10px;">🔄 Coba Lagi</button>
                    <button class="btn btn-secondary" onclick="closeModal()">🏠 Kembali</button>
                </div>
            `;
            
            document.getElementById('next-btn').style.display = 'none';
            document.getElementById('finish-btn').style.display = 'none';
        }

        // Toggle media fields based on material type
        function toggleMediaFields() {
            const type = document.getElementById('admin-type').value;
            const imageGroup = document.getElementById('image-group');
            const audioGroup = document.getElementById('audio-group');
            
            // Hide all media fields first
            imageGroup.style.display = 'none';
            audioGroup.style.display = 'none';
            
            // Show relevant field based on type
            if (type === 'visual') {
                imageGroup.style.display = 'block';
            } else if (type === 'auditory') {
                audioGroup.style.display = 'block';
            }
        }

        // Admin functions
        function adminLogin() {
            const password = document.getElementById('admin-password').value;
            const messageDiv = document.getElementById('login-message');
            
            if (password === 'adminpjok2') {
                isAdminLoggedIn = true;
                messageDiv.innerHTML = '<div class="success-message">Login berhasil! Mengalihkan ke panel admin...</div>';
                setTimeout(() => {
                    closeModal();
                    document.getElementById('adminPanel').style.display = 'block';
                    showAdminTab('materials'); // Show materials tab by default
                    loadMaterials();
                    toggleMediaFields(); // Initialize media fields visibility
                }, 1500);
            } else {
                messageDiv.innerHTML = '<div class="error-message">Password salah! Silakan coba lagi.</div>';
            }
        }

        function showAdminTab(tabName) {
            // Hide all panels
            document.getElementById('materials-panel').classList.add('hidden');
            document.getElementById('quiz-panel').classList.add('hidden');
            
            // Reset tab buttons
            document.getElementById('materials-tab').style.background = 'linear-gradient(45deg, #a29bfe, #6c5ce7)';
            document.getElementById('quiz-tab').style.background = 'linear-gradient(45deg, #a29bfe, #6c5ce7)';
            
            // Show selected panel and highlight tab
            if (tabName === 'materials') {
                document.getElementById('materials-panel').classList.remove('hidden');
                document.getElementById('materials-tab').style.background = 'linear-gradient(45deg, #fd79a8, #fdcb6e)';
                loadMaterials();
            } else if (tabName === 'quiz') {
                document.getElementById('quiz-panel').classList.remove('hidden');
                document.getElementById('quiz-tab').style.background = 'linear-gradient(45deg, #fd79a8, #fdcb6e)';
                loadQuizQuestions();
            }
        }

        async function addMaterial() {
            if (!isAdminLoggedIn) return;
            
            const chapter = document.getElementById('admin-chapter').value;
            const type = document.getElementById('admin-type').value;
            const title = document.getElementById('admin-title').value;
            const content = document.getElementById('admin-content').value;
            const imageUrl = document.getElementById('admin-image').value;
            const audioUrl = document.getElementById('admin-audio').value;
            const messageDiv = document.getElementById('admin-message');
            const addBtn = document.getElementById('add-btn');
            const loading = addBtn.querySelector('.loading');
            
            if (!title || !content) {
                messageDiv.innerHTML = '<div class="error-message">Harap isi semua field wajib!</div>';
                return;
            }
            
            // Show loading state
            loading.classList.remove('hidden');
            addBtn.disabled = true;
            
            const materialData = {
                id: Date.now().toString(),
                chapter: chapter,
                type: type,
                title: title,
                content: content,
                image_url: imageUrl || null,
                audio_url: audioUrl || null,
                created_at: new Date().toISOString()
            };
            
            const result = await window.dataSdk.create(materialData);
            
            // Hide loading state
            loading.classList.add('hidden');
            addBtn.disabled = false;
            
            if (result.isOk) {
                messageDiv.innerHTML = '<div class="success-message">Materi berhasil ditambahkan!</div>';
                // Clear form
                document.getElementById('admin-title').value = '';
                document.getElementById('admin-content').value = '';
                document.getElementById('admin-image').value = '';
                document.getElementById('admin-audio').value = '';
            } else {
                messageDiv.innerHTML = '<div class="error-message">Gagal menambahkan materi. Silakan coba lagi.</div>';
            }
        }

        function loadMaterials() {
            const materialsList = document.getElementById('materials-list');
            if (materials.length === 0) {
                materialsList.innerHTML = '<p style="text-align: center; color: #fff;">Belum ada materi tambahan.</p>';
                return;
            }
            
            materialsList.innerHTML = `
                <h4 style="color: #fff; margin-top: 30px;">Daftar Materi (${materials.length}/999)</h4>
                <div style="max-height: 400px; overflow-y: auto;">
                    ${materials.map(material => `
                        <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                            <h5 style="color: #fff; margin: 0 0 10px 0;">
                                Bab ${material.chapter} - ${material.type} - ${material.title}
                            </h5>
                            <p style="color: #fff; margin: 0 0 10px 0; font-size: 14px;">
                                ${material.content.substring(0, 100)}${material.content.length > 100 ? '...' : ''}
                            </p>
                            <button class="btn btn-danger" onclick="deleteMaterial('${material.__backendId}')" style="font-size: 12px; padding: 8px 16px;">
                                🗑️ Hapus
                            </button>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function displayMaterials() {
            if (document.getElementById('materials-list')) {
                loadMaterials();
            }
        }

        async function deleteMaterial(backendId) {
            if (!isAdminLoggedIn) return;
            
            const material = materials.find(m => m.__backendId === backendId);
            if (!material) return;
            
            const result = await window.dataSdk.delete(material);
            
            const messageDiv = document.getElementById('admin-message');
            if (result.isOk) {
                messageDiv.innerHTML = '<div class="success-message">Materi berhasil dihapus!</div>';
            } else {
                messageDiv.innerHTML = '<div class="error-message">Gagal menghapus materi. Silakan coba lagi.</div>';
            }
        }

        // Quiz management functions
        async function addQuizQuestion() {
            if (!isAdminLoggedIn) return;
            
            const chapter = document.getElementById('quiz-chapter').value;
            const question = document.getElementById('quiz-question').value;
            const optionA = document.getElementById('quiz-option-a').value;
            const optionB = document.getElementById('quiz-option-b').value;
            const optionC = document.getElementById('quiz-option-c').value;
            const optionD = document.getElementById('quiz-option-d').value;
            const correct = parseInt(document.getElementById('quiz-correct').value);
            const imageUrl = document.getElementById('quiz-image').value;
            const messageDiv = document.getElementById('quiz-message');
            const addBtn = document.getElementById('add-quiz-btn');
            const loading = addBtn.querySelector('.loading');
            
            if (!question || !optionA || !optionB || !optionC || !optionD) {
                messageDiv.innerHTML = '<div class="error-message">Harap isi semua field pertanyaan dan pilihan jawaban!</div>';
                return;
            }
            
            // Show loading state
            loading.classList.remove('hidden');
            addBtn.disabled = true;
            
            const quizData = {
                id: Date.now().toString(),
                chapter: chapter,
                type: 'quiz',
                question: question,
                options: JSON.stringify([optionA, optionB, optionC, optionD]),
                correct: correct,
                image_url: imageUrl || null,
                created_at: new Date().toISOString()
            };
            
            const result = await window.dataSdk.create(quizData);
            
            // Hide loading state
            loading.classList.add('hidden');
            addBtn.disabled = false;
            
            if (result.isOk) {
                messageDiv.innerHTML = '<div class="success-message">Soal kuis berhasil ditambahkan!</div>';
                // Clear form
                document.getElementById('quiz-question').value = '';
                document.getElementById('quiz-option-a').value = '';
                document.getElementById('quiz-option-b').value = '';
                document.getElementById('quiz-option-c').value = '';
                document.getElementById('quiz-option-d').value = '';
                document.getElementById('quiz-correct').value = '0';
                document.getElementById('quiz-image').value = '';
            } else {
                messageDiv.innerHTML = '<div class="error-message">Gagal menambahkan soal kuis. Silakan coba lagi.</div>';
            }
        }

        function loadQuizQuestions() {
            const quizList = document.getElementById('quiz-list');
            if (quizQuestions.length === 0) {
                quizList.innerHTML = '<p style="text-align: center; color: #fff;">Belum ada soal kuis tambahan.</p>';
                return;
            }
            
            quizList.innerHTML = `
                <h4 style="color: #fff; margin-top: 30px;">Daftar Soal Kuis (${quizQuestions.length}/999)</h4>
                <div style="max-height: 400px; overflow-y: auto;">
                    ${quizQuestions.map(quiz => {
                        const options = JSON.parse(quiz.options || '[]');
                        return `
                            <div style="background: rgba(255,255,255,0.1); padding: 15px; border-radius: 10px; margin: 10px 0;">
                                <h5 style="color: #fff; margin: 0 0 10px 0;">
                                    Bab ${quiz.chapter} - ${quiz.question.substring(0, 50)}${quiz.question.length > 50 ? '...' : ''}
                                </h5>
                                <div style="color: #fff; margin: 5px 0; font-size: 14px;">
                                    <strong>Pilihan:</strong><br>
                                    A. ${options[0] || ''}<br>
                                    B. ${options[1] || ''}<br>
                                    C. ${options[2] || ''}<br>
                                    D. ${options[3] || ''}<br>
                                    <strong>Jawaban Benar:</strong> ${['A', 'B', 'C', 'D'][quiz.correct]}
                                </div>
                                ${quiz.image_url ? `
                                    <div style="margin: 10px 0;">
                                        <img src="${quiz.image_url}" alt="Gambar soal" 
                                             style="max-width: 200px; max-height: 150px; border-radius: 5px;"
                                             onerror="this.style.display='none';">
                                    </div>
                                ` : ''}
                                <button class="btn btn-danger" onclick="deleteQuizQuestion('${quiz.__backendId}')" style="font-size: 12px; padding: 8px 16px;">
                                    🗑️ Hapus
                                </button>
                            </div>
                        `;
                    }).join('')}
                </div>
            `;
        }

        function displayQuizQuestions() {
            if (document.getElementById('quiz-list')) {
                loadQuizQuestions();
            }
        }

        async function deleteQuizQuestion(backendId) {
            if (!isAdminLoggedIn) return;
            
            const quiz = quizQuestions.find(q => q.__backendId === backendId);
            if (!quiz) return;
            
            const result = await window.dataSdk.delete(quiz);
            
            const messageDiv = document.getElementById('quiz-message');
            if (result.isOk) {
                messageDiv.innerHTML = '<div class="success-message">Soal kuis berhasil dihapus!</div>';
            } else {
                messageDiv.innerHTML = '<div class="error-message">Gagal menghapus soal kuis. Silakan coba lagi.</div>';
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', initApp);

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modals = document.querySelectorAll('.modal');
            modals.forEach(modal => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(event) {
            if (event.key === 'Escape') {
                closeModal();
            }
        });
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9979565a82c31d6d',t:'MTc2MTk3ODU2MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
